<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>match_making • hemibrainr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="match_making">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hemibrainr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/hemibrain_FAFB_matching.html">match_making</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/flyconnectome/hemibrainr">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>match_making</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/flyconnectome/hemibrainr/blob/master/vignettes/hemibrain_FAFB_matching.Rmd"><code>vignettes/hemibrain_FAFB_matching.Rmd</code></a></small>
      <div class="hidden name"><code>hemibrain_FAFB_matching.Rmd</code></div>

    </div>

    
    
<blockquote>
<p>“Oh, but nonsense, she thought; William must marry Lily. They have so many things in common. Lily is so fond of flowers. They are both cold and aloof and rather self-sufficing. She must arrange for them to take a long walk together.” (<a href="https://en.wikipedia.org/wiki/To_the_Lighthouse">Virginia Woolf</a>)</p>
</blockquote>
<div id="neuron-matching-making" class="section level1">
<h1 class="hasAnchor">
<a href="#neuron-matching-making" class="anchor"></a>Neuron Matching Making</h1>
<p>Insect brains seem pretty stereotyped. But just how stereotyped are they? It comes as a suprise to many neuroscientists who work only on vertebrates, to learn that in insects, individual neurons can readily and reliably be re-found and identified across different members of the species. Perhaps even across species.</p>
<div class="figure">
<img src="https://raw.githubusercontent.com/flyconnectome/hemibrainr/master/inst/images/slick_matches.png" alt="match_examples"><p class="caption">match_examples</p>
</div>
<p>As of 2020, two large data sets for the vinegar fly, D. melanogaster, are available making it possible to look at the full morphology of ~25,000 neurons in two data sets. These data sets are the <a href="https://neuprint.janelia.org/help/videos?dataset=hemibrain%3Av1.0&amp;qt=findneurons&amp;qr%5B0%5D%5Bcode%5D=fn&amp;qr%5B0%5D%5Bds%5D=hemibrain%3Av1.0&amp;qr%5B0%5D%5Bpm%5D%5Bdataset%5D=hemibrain%3Av1.0&amp;qr%5B0%5D%5Bpm%5D%5Binput_ROIs%5D%5B0%5D=ATL%28R%29&amp;qr%5B0%5D%5Bpm%5D%5Boutput_ROIs%5D%5B0%5D=IB&amp;qr%5B0%5D%5BvisProps%5D%5BrowsPerPage%5D=25&amp;tab=0&amp;q=1">hemibrain</a> and <a href="https://neuropil.janelia.org/tracing/fafb/v14/">FAFB</a>. However, neurons in FAFB have been semi-manually or manually reconstructed, making the automatic assignment of FAFB-hemibrain neuron matches non-trivial. In this R package we have built tools to enable users to record and deploy inter-dataset matches.</p>
<p>What use is this information? Matches could be used to look at morphological stereotypy, help find genetic lines that label neurons, help transer information associated with on reconstructed to the same cell in a different brain, compare neuron connectivity between two brains, etc.</p>
<p>For example, by matching neurons up between the hemibrain and FAFB, we see that the numbers of <a href="https://pubmed.ncbi.nlm.nih.gov/30703584/">cell_types</a> within one ‘hemilineage’ (se set of neurons that are born and develop together) are comparable between these two different flies:</p>
<div class="figure">
<img src="https://raw.githubusercontent.com/flyconnectome/hemibrainr/master/inst/images/hemilineage_example.png" alt="hemilineage_example"><p class="caption">hemilineage_example</p>
</div>
<div id="what-you-need" class="section level2">
<h2 class="hasAnchor">
<a href="#what-you-need" class="anchor"></a>What You need</h2>
<p>In order to use these tools you will need to have <a href="https://rstudio.com/">RStudio</a> and to have installed the <a href="http://natverse.org/">natverse</a>. To use them to maximum effect, you will need to also have permission to access the <a href="https://neuropil.janelia.org/tracing/fafb/v14/">FAFB CATMAID v14 project</a>, although some neurons are available to be read by the public from <a href="https://v2.virtualflybrain.org/org.geppetto.frontend/geppetto">Virtual Fly Brain</a>’s CATMAID project for FAFB and should have the same unique skeleton ID numbers. Our pipeline function makes use of the <a href="https://support.google.com/a/answer/7491144?hl=en">Google Filestream</a> application, which should be installed on your machine. Further, note that neurons are read from the FAFB CATMAID project, and you must have login details for this project recorded in your .Renviron (edit with: usethis::edit_r_environ) for these functions to work. For help, see <a href="https://github.com/natverse/rcatmaid">here</a> and <a href="https://github.com/natverse/neuprintr">here</a>.</p>
</div>
<div id="authorisation" class="section level2">
<h2 class="hasAnchor">
<a href="#authorisation" class="anchor"></a>Authorisation</h2>
<p>In order to write neuron matches to the project you must have access to the <code>hemibrain</code> Google Drive or the match making Google sheet (see below) owned by the <a href="https://www.zoo.cam.ac.uk/research/cell-and-developmental-biology/drosophila-connectomics#:~:text=The%20project%20aims%20to%20reconstruct,Research%20Campus%20in%20the%20US.">Drosophila Connectomics Group</a>. If you do not have access but would like to help or use this information, get in contact! You do not need programming skills to to help us match make neurons, as we have written an interactive pipeline in R which does most of the work for you (see below).</p>
<p>We regularly also up-date a data frame saved in this package, as a snapshot of matches that have been made. Without authorisation you can access these matches but they may not be the most up-to-date:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># Load package</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(hemibrainr)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="co"># See matches</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="kw"><a href="https://rdrr.io/r/utils/View.html">View</a></span>(hemibrain_matched)</a></code></pre></div>
</div>
<div id="the-google-sheet" class="section level2">
<h2 class="hasAnchor">
<a href="#the-google-sheet" class="anchor"></a>The Google Sheet</h2>
<p>We in the <a href="https://www.zoo.cam.ac.uk/research/cell-and-developmental-biology/drosophila-connectomics#:~:text=The%20project%20aims%20to%20reconstruct,Research%20Campus%20in%20the%20US.">Drosophila Connectomics Group</a> have been recording our match making in a Google sheet named <a href="https://docs.google.com/spreadsheets/d/1OSlDtnR3B1LiB5cwI5x5Ql6LkZd8JOS5bBr-HTi0pOw/edit">em_matching</a>. This sheet has two tabs of concern here, <code>hemibrain</code> for hemibrain neuron -&gt; FAFB neuron matches and <code>fafb</code> for FAFB neuron to hemibrain neuron matches.</p>
<div class="figure">
<img src="https://raw.githubusercontent.com/flyconnectome/hemibrainr/master/inst/images/google_sheet.png" alt="google_sheet"><p class="caption">google_sheet</p>
</div>
<p>If you have authorisation, you can see the most up-to-date matches as so:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">matches =<span class="st"> </span><span class="kw"><a href="../reference/hemibrain_matches.html">hemibrain_matches</a></span>() <span class="co"># You will be asked to log-in through a Google-enabled email address.</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/utils/View.html">View</a></span>(<span class="kw">matches</span>())</a></code></pre></div>
<p>As you can see, other meta information is present in the data frame <code>matches</code>. The function <code>hemibrain_matches</code> has an argument called <code>priority</code>. This specifies whether to use FAFB-&gt;hemibrain_matches (FAFB) or hemibrain-&gt;FAFB matches (hemibrain) in order to ascribe cell_type names to FAFB neurons. In both cases, cell_type names are attached to hemibrain bodyids, and propagated to their FAFB matches.</p>
</div>
<div id="match-quality" class="section level2">
<h2 class="hasAnchor">
<a href="#match-quality" class="anchor"></a>Match Quality</h2>
<p>Once a match is recorded, the user selects a quality for that match. There can be no match (none), a tract-only match (tract) a poor match (poor) an okay match (medium) or an exact match (good). As a rule of thumb, a poor match could be a neuron from a very similar same cell_type or a highly untraced neuron that may be the correct cell_type. An okay match should be a neuron that looks to be from the same morphological cell_type but there may be some discrepancies in its arbour. A good match is a neuron that corresponds well between FAFB and the hemibrain data.A tract only match just means that the matched neuron should share the same cell body fiber, and therefore same developmental ontogeny, even if the rest of its morphology is quite different.</p>
<p>It is very important to note that a match cannot be a match if neurons do not seem to share the same cell body fiber tract. Being in a different tract is a deal breaker.</p>
<p>Some good matches are striking. For example:</p>
<div class="figure">
<img src="https://raw.githubusercontent.com/flyconnectome/hemibrainr/master/inst/images/good_match_1.png" alt="good_match_1"><p class="caption">good_match_1</p>
</div>
<p>In the above case, the FAFB neuron has been quite extensively manually traced, meaning that these cells look very similar to one another.</p>
<p>Be aware that while neurons must share the same cel lbody fiber tract, these tracts can be a little off set. For example, this is also a good match:</p>
<div class="figure">
<img src="https://raw.githubusercontent.com/flyconnectome/hemibrainr/master/inst/images/good_match_2.png" alt="good_match_2"><p class="caption">good_match_2</p>
</div>
<p>If the some is missing, it might be safer to note a match as ‘medium’.</p>
<p><img src="https://raw.githubusercontent.com/flyconnectome/hemibrainr/master/inst/images/medium_match_1.png" alt="medium_match_1"> You might also use medium if you have a nice looking match and suspect that there is a medium/large discrepancy because the FAFB neuron (here shown in red) is under-traced, such as:</p>
<div class="figure">
<img src="https://raw.githubusercontent.com/flyconnectome/hemibrainr/master/inst/images/medium_match_2.png" alt="medium_match_2"><p class="caption">medium_match_2</p>
</div>
<p>Or:</p>
<p><img src="https://raw.githubusercontent.com/flyconnectome/hemibrainr/master/inst/images/medium_match_3.png" alt="medium_match_3"> Bear in mind that the hemibrain volume only covers ~1/4 of the fly mid-brain, so neurons are trunacted (here hemibrain neuron in black) but we can still make matches for many of them:</p>
<div class="figure">
<img src="https://raw.githubusercontent.com/flyconnectome/hemibrainr/master/inst/images/medium_match_4.png" alt="medium_match_4"><p class="caption">medium_match_4</p>
</div>
<p>A larger degree of under-tracing may lead you to assign a match as poor. In this case, you think the two neurons may be ‘the same isomorphic cell_type’ but you could be wrong. For example:</p>
<div class="figure">
<img src="https://raw.githubusercontent.com/flyconnectome/hemibrainr/master/inst/images/poor_match_1.png" alt="poor_match_1"><p class="caption">poor_match_1</p>
</div>
<p>A poor match may also be made if you think these is a slight offset, possibly due to a registration issue:</p>
<div class="figure">
<img src="https://raw.githubusercontent.com/flyconnectome/hemibrainr/master/inst/images/poor_match_2.png" alt="poor_match_2"><p class="caption">poor_match_2</p>
</div>
<p>Though in this case, choosing a even lesser-traced FAFB neuron may be better:</p>
<div class="figure">
<img src="https://raw.githubusercontent.com/flyconnectome/hemibrainr/master/inst/images/poor_match_3.png" alt="poor_match_3"><p class="caption">poor_match_3</p>
</div>
<p>A poor match can be given even to very under-traced FAFB neurons:</p>
<div class="figure">
<img src="https://raw.githubusercontent.com/flyconnectome/hemibrainr/master/inst/images/poor_match_4.png" alt="poor_match_4"><p class="caption">poor_match_4</p>
</div>
<p>And even fragments if you are convinced the morphology is unique enough (but be careful!):</p>
<div class="figure">
<img src="https://raw.githubusercontent.com/flyconnectome/hemibrainr/master/inst/images/poor_match_5.png" alt="poor_match_5"><p class="caption">poor_match_5</p>
</div>
</div>
<div id="adding-your-own-matches" class="section level2">
<h2 class="hasAnchor">
<a href="#adding-your-own-matches" class="anchor"></a>Adding Your Own Matches</h2>
<p>So far we have matched up a few thousand neurons. About 25 thousand matches are possible because that is the number of reconstructed neurons in the hemibrain data set. You can help us (and yourself!) by adding matches to our database. There are two main ways of doing this:</p>
<div id="adding-ready-made-matches" class="section level3">
<h3 class="hasAnchor">
<a href="#adding-ready-made-matches" class="anchor"></a>Adding Ready-Made Matches</h3>
<p>You can add matches you have already made by your own means. For this, you will need to get a data frame into R (e.g. reading from a <code>.csv</code> file) that has three columns: <code>bodyid</code>, which contains the hemibrain neurons’ unique Body IDs, <code>skid</code> which has the skeleton IDs for FAFB CATMAID neurons, and <code>quality</code> which gives a qualitative assessment of match quality (see above). If in doubt, put poor.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">made.matches =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span>(<span class="st">"my_matches.csv"</span>) <span class="co"># Must have the named columns: bodyid, skid, quality</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="kw"><a href="../reference/hemibrain_matches.html">hemibrain_matches</a></span>(<span class="dt">df =</span> made.matches, <span class="dt">direction =</span> <span class="st">"both"</span>) <span class="co"># direction controls which tabs matches get written to</span></a></code></pre></div>
<p>Sometimes you cannot add a match, as your neuron either does not exist in the first column of the <code>hemibrain</code> tab of our Google sheet or of the <code>fafb</code> sheet. In these cases, if you have a valid ID, you can either add it to the sheet manually, or programmatically so that all the right meta data is easily included:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co"># Add a mising FAFB projection neuron, so we can match it later:</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="kw"><a href="../reference/hemibrain_add.html">hemibrain_matching_add</a></span>(<span class="dt">ids =</span> <span class="st">"16"</span>, <span class="dt">sheet =</span> <span class="st">"fafb"</span>, <span class="dt">User =</span> <span class="st">"ASB"</span>)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="co">## the sheet argument specifies the worksheet or 'tab' on the Google sheet we want to add to</span></a></code></pre></div>
</div>
<div id="the-match-making-pipeline" class="section level3">
<h3 class="hasAnchor">
<a href="#the-match-making-pipeline" class="anchor"></a>The Match Making Pipeline</h3>
<p>You can also use our interactive pipeline to match neurons between hemibrain and FAFB. There are two version of this pipeline. One that takes hemibrain neurons from <a href="https://github.com/natverse/neuprintr">neuPrint</a>, and tries to find the best match for each hemibrain neuron (<code>hemibrain_matching</code>) and one that takes FAFB neurons from <a href="https://github.com/natverse/rcatmaid">CATMAID</a> and tries to find the best heimibrain match for those FAFB neurons (<code>fafb_matching</code>). Once matches are made, the result become available with <code>hemibrain_matches</code>.</p>
<p>For a video tutorial, see <a href="https://drive.google.com/drive/folders/1MOwfPGCPvY8eVLZoOfXOBhVcS6U996g9">here</a>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># install package to bridge neurons between FAFB14 and hemibrain space</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="cf">if</span> (<span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/ns-load.html">requireNamespace</a></span>(<span class="st">"remotes"</span>)) <span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"remotes"</span>)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">remotes<span class="op">::</span><span class="kw"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span>(<span class="st">'natverse/nat.jrcbrains'</span>)</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">nat.jrcbrains<span class="op">::</span><span class="kw">download_saalfeldlab_registrations</span>()</a>
<a class="sourceLine" id="cb5-5" data-line-number="5"></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co"># Match hemibrain neurons!</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="kw"><a href="../reference/hemibrain_matching.html">hemibrain_matching</a></span>() <span class="co"># Automatically, you can choose a User ID and you are given neurons that have this ID in the User column on the Google Sheet.</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="kw"><a href="../reference/hemibrain_matching.html">hemibrain_matching</a></span>(<span class="dt">ids=</span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"674108632"</span>,<span class="st">"739256609"</span>)) <span class="co"># Otherwise you can select specific IDs</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="kw"><a href="../reference/hemibrain_matching.html">hemibrain_matching</a></span>(<span class="dt">ids=</span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"674108632"</span>,<span class="st">"739256609"</span>), <span class="dt">overwrite =</span> <span class="ot">TRUE</span>) <span class="co"># If a match has already been made you can overwrite it</span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co"># Otherwise neurons that have already been given a match will not be shown in the pipeline.</span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"></a>
<a class="sourceLine" id="cb5-12" data-line-number="12"><span class="co"># Match FAFB neurons!</span></a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="kw"><a href="../reference/hemibrain_matching.html">fafb_matching</a></span>()</a>
<a class="sourceLine" id="cb5-14" data-line-number="14"><span class="kw"><a href="../reference/hemibrain_matching.html">fafb_matching</a></span>(<span class="dt">ids =</span> <span class="st">"16"</span>) <span class="co"># Specify IDs</span></a>
<a class="sourceLine" id="cb5-15" data-line-number="15"><span class="kw"><a href="../reference/hemibrain_matching.html">fafb_matching</a></span>(<span class="dt">ids =</span> <span class="st">"16"</span>, <span class="dt">overwrite =</span> <span class="ot">TRUE</span>) <span class="co"># Overwrite</span></a></code></pre></div>
<p>When you run these functions you will enter an interactive pipeline in an rgl window. Prompts will be given to you in your R console and you can rotate and pan in the window to see neurons. The neuron selected for-matching is shown in black (i.e. if using <code>hemibrain_matching</code> this will be a hemibrain neuron), and potential matches in colour (i.e. if using <code>hemibrain_matching</code> these will be FAFB neurons). Potential matches are shown by NBLAST score (a measure of morphological similarity). Usually, for reasonably traced FAFB neurons, a good match appears in the top 10 hits.</p>
<div class="figure">
<img src="https://raw.githubusercontent.com/flyconnectome/hemibrainr/master/inst/images/pipeline_console.png" alt="pipeline_console"><p class="caption">pipeline_console</p>
</div>
</div>
</div>
<div id="uses" class="section level2">
<h2 class="hasAnchor">
<a href="#uses" class="anchor"></a>Uses</h2>
<p>One use we have already found for all of this match making, is to cross-identify neuron cell body fiber tracts and <a href="https://pubmed.ncbi.nlm.nih.gov/23541733/">(hemi)lineages</a>. This means that we now have the locations in FAFB for different known sets of cells. You can see seed planes for them <a href="https://docs.google.com/spreadsheets/d/1HI8RZJhV8aWC6hw5T0qh2__9D8V0zKdtxx2kkDsuI8Y/edit?usp=sharing">here</a>.</p>
<div class="figure">
<img src="https://raw.githubusercontent.com/flyconnectome/hemibrainr/master/inst/images/google_sheet_lineages.png" alt="google_sheet_lineages"><p class="caption">google_sheet_lineages</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#neuron-matching-making">Neuron Matching Making</a><ul class="nav nav-pills nav-stacked">
<li><a href="#what-you-need">What You need</a></li>
      <li><a href="#authorisation">Authorisation</a></li>
      <li><a href="#the-google-sheet">The Google Sheet</a></li>
      <li><a href="#match-quality">Match Quality</a></li>
      <li><a href="#adding-your-own-matches">Adding Your Own Matches</a></li>
      <li><a href="#uses">Uses</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Alexander Bates, Gregory Jefferis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
