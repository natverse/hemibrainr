<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>hemibrain and flywire meta data • hemibrainr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="hemibrain and flywire meta data">
<meta property="og:description" content="hemibrainr">
<meta property="og:image" content="/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hemibrainr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/flywire.html">flywire</a>
    </li>
    <li>
      <a href="../articles/glomerulus_search.html">glomerulus search</a>
    </li>
    <li>
      <a href="../articles/google_filestream.html">read data from Google drive</a>
    </li>
    <li>
      <a href="../articles/hemibrain_alpns_toons.html">olfactory connectivity</a>
    </li>
    <li>
      <a href="../articles/hemibrain_axons_dendrites.html">axons and dendrites</a>
    </li>
    <li>
      <a href="../articles/hemibrain_connectivity.html">hemibrain connectivity</a>
    </li>
    <li>
      <a href="../articles/match_making.html">neuron match making</a>
    </li>
    <li>
      <a href="../articles/meta_data.html">hemibrain and flywire meta data</a>
    </li>
    <li>
      <a href="../articles/packages_guide.html">related packages</a>
    </li>
    <li>
      <a href="../articles/transmitters.html">transmitters</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/flyconnectome/hemibrainr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="meta_data_files/header-attrs-2.9/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>hemibrain and flywire meta data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/flyconnectome/hemibrainr/blob/master/vignettes/meta_data.Rmd"><code>vignettes/meta_data.Rmd</code></a></small>
      <div class="hidden name"><code>meta_data.Rmd</code></div>

    </div>

    
    
<div id="meta-data-for-hemibrain-and-flywire-neurons" class="section level1">
<h1 class="hasAnchor">
<a href="#meta-data-for-hemibrain-and-flywire-neurons" class="anchor"></a>Meta data for hemibrain and flywire neurons</h1>
<p>The package <code>hemibrainr</code> allows you to retrieve pre-computed/annotated meta data for thousands of neurons.</p>
<p>This includes neurons from both the <a href="https://neuprint.janelia.org/help/videos?dataset=hemibrain">hemibrain</a> and<br><a href="https://ngl.flywire.ai/?local_id=c8c06ea181ad5447b04beacfc4cb1b66">FlyWire</a> ( <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6063995/">FAFB</a> ) connectomics data sets.</p>
<p>Unlike with more manual reconstruction environments like <a href="https://neuropil.janelia.org/tracing/fafb/">CATMAID</a>, users concatenate volumetric segmentations to build neurons as 3D meshes. The segmentation was produced by the <a href="https://seunglab.org/">Seung group</a>. With the package <code>hemibrainr</code> we can read flywire neurons as both meshes and skeletons. Meshes can be read directly from flywire, but skeletons need to be built from these meshes. Our package <code>fafbseg</code> can enable users to skeletonise neurons in R (e.g. <code><a href="https://rdrr.io/pkg/fafbseg/man/skeletor.html">fafbseg::skeletor</a></code>), whereas <code>hemibrainr</code> exists to help users get hold of neuron data and match flywire neurons to <a href="https://neuprint.janelia.org/help/videos?dataset=hemibrain">hemibrain</a> neurons.</p>
<p>Which is all useful stuff. To access some of this data, you will need access to the hemibrainr <a href="https://support.google.com/a/users/answer/9310156?hl=en">Google team drive</a>. In order to connect R to this Google drive, you have a few options. Please see <a href="https://natverse.github.io/hemibrainr/articles/google_filestream.html">this article</a>. The pipeline that produced this data can be found <a href="https://github.com/flyconnectome/fafbpipeline">here</a>. It is run nightly on a machine at the <a href="https://www2.mrc-lmb.cam.ac.uk/research/scientific-facilities-and-support-services/scientific-computing/">MRC LMB</a>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Load package</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"natverse/hemibrainr"</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/flyconnectome/hemibrainr">hemibrainr</a></span><span class="op">)</span></code></pre></div>
</div>
<div id="hemibrain-meta-data" class="section level1">
<h1 class="hasAnchor">
<a href="#hemibrain-meta-data" class="anchor"></a>Hemibrain meta data</h1>
<div id="hemibrain-meshes" class="section level2">
<h2 class="hasAnchor">
<a href="#hemibrain-meshes" class="anchor"></a>Hemibrain meshes</h2>
<p>A mesh for the whole hemibrain volume is not available from neuPrint. We have made one. It is a 3D triangle mesh for the hemibrain surface as a .obj file. This mesh was generated by first merging individual ROI meshes from neuPrint and then filling the gaps in between in a semi-manual process.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">nat</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/nat/man/nopen3d.html">nopen3d</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># holds right click to pan</span>
<span class="fu"><a href="https://rdrr.io/pkg/nat/man/plot3d.html">plot3d</a></span><span class="op">(</span><span class="va">hemibrain.surf</span>, col <span class="op">=</span> <span class="st">"grey"</span>, alpha <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span> <span class="co"># plot the brain in raw voxel space</span>
<span class="co">## plot3d(hemibrain_microns.surf, col = "pink", alpha = 0.1) # You can also plot the brain scaled to microns</span>
<span class="fu"><a href="../reference/hemibrain_view.html">hemibrain_view</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># orients the brain to face forward. Note that hemibrain coordinate system has the anterior-posterior axis aligned with the Y axis (rather than the Z axis, which is more commonly observed)</span></code></pre></div>
<center>
<img src="https://raw.githubusercontent.com/natverse/hemibrainr/master/inst/images/hemibrain_meshrgl.png" title="fig:" alt="hemibrain_meshrgl">
</center>
<p>We have also generated 3D meshes of 51 olfactory + 7 thermo/hygrosensory antennal lobe glomeruli for the hemibrain volume. They have been made using antennal lobe projection neuron presynapses.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gloms</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/nat/man/materials.html">materials</a></span><span class="op">(</span><span class="va">hemibrain_al.surf</span><span class="op">)</span><span class="op">$</span><span class="va">name</span>
<span class="kw">for</span><span class="op">(</span><span class="va">glom</span> <span class="kw">in</span> <span class="va">gloms</span><span class="op">)</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/pkg/nat/man/plot3d.html">plot3d</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/nat/man/subset.html">subset</a></span><span class="op">(</span><span class="va">hemibrain_al.surf</span>,<span class="va">glom</span><span class="op">)</span>, add <span class="op">=</span> <span class="cn">TRUE</span>, alpha <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span>
<span class="op">}</span>
<span class="co"># Also exists, scaled to microns: hemibrain_al_microns.surf</span>

<span class="co"># We have also stored meta-information rel;ated to these glomerular meshes</span>
<span class="va">hemibrain_glomeruli_summary</span>
<span class="co">## including whether or not they are cut-off in the hemibrain volumes</span>
<span class="co">### And what sorts of odours seem to excite them</span></code></pre></div>
<center>
<img src="https://raw.githubusercontent.com/natverse/hemibrainr/master/inst/images/hemibrain_glomeruli.png" title="fig:" alt="hemibrain_glomeruli">
</center>
<center>
<img src="https://raw.githubusercontent.com/natverse/hemibrainr/master/inst/images/hemibrain_glomeruli_summary.png" title="fig:" alt="hemibrain_glomeruli_summary">
</center>
</div>
<div id="hemibrain-linage-information" class="section level2">
<h2 class="hasAnchor">
<a href="#hemibrain-linage-information" class="anchor"></a>Hemibrain linage information</h2>
<p>We have tried to map reported cell body fibres designations (Scheffer et al. 2020) and match them to hemilineage designations from the literature. Hemilineages are bundles of neurons that have developed together, and which likely express similar genes including those related to neurotransmitter expression (Lacin et al. 2019; Eckstein et al. 2020).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/nat/man/neuronlist-dataframe-methods.html">head</a></span><span class="op">(</span><span class="va">hemibrain_hemilineages</span><span class="op">)</span></code></pre></div>
<center>
<img src="https://raw.githubusercontent.com/natverse/hemibrainr/master/inst/images/hemibrain_hemilineages.png" title="fig:" alt="hemibrain_hemilineages">
</center>
<p>This mapping may be in precise, and we are working on creating a direct neuron-hemilineage mapping.</p>
</div>
<div id="hemibrain-annotations-for-olfactory-neurons" class="section level2">
<h2 class="hasAnchor">
<a href="#hemibrain-annotations-for-olfactory-neurons" class="anchor"></a>Hemibrain annotations for olfactory neurons</h2>
<p>Many olfactory neurons have been annotated into their classes, cell types and olfactory layers in recent work <a href="https://docs.google.com/spreadsheets/d/1OSlDtnR3B1LiB5cwI5x5Ql6LkZd8JOS5bBr-HTi0pOw/edit">Schlegel &amp; Bates et al., 2021</a>. This information is available in our packages as:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># These are all data frames available through the hemibrainr package:</span>
<span class="fu"><a href="https://rdrr.io/pkg/nat/man/neuronlist-dataframe-methods.html">head</a></span><span class="op">(</span><span class="va">rn.info</span><span class="op">)</span>  <span class="co"># meta data related to antennal lobe projection neurons</span>
<span class="fu"><a href="https://rdrr.io/pkg/nat/man/neuronlist-dataframe-methods.html">head</a></span><span class="op">(</span><span class="va">alln.info</span><span class="op">)</span>  <span class="co"># meta data related to antennal lobe projection neurons</span>
<span class="fu"><a href="https://rdrr.io/pkg/nat/man/neuronlist-dataframe-methods.html">head</a></span><span class="op">(</span><span class="va">pn.info</span><span class="op">)</span>  <span class="co"># meta data related to antennal lobe projection neurons</span>
<span class="fu"><a href="https://rdrr.io/pkg/nat/man/neuronlist-dataframe-methods.html">head</a></span><span class="op">(</span><span class="va">ton.info</span><span class="op">)</span>  <span class="co"># meta data related to antennal lobe projection neurons' targets</span>
<span class="fu"><a href="https://rdrr.io/pkg/nat/man/neuronlist-dataframe-methods.html">head</a></span><span class="op">(</span><span class="va">dn.info</span><span class="op">)</span>  <span class="co"># meta data related to antennal lobe projection neurons</span>
<span class="op">?</span><span class="va">pn.info</span> <span class="co"># get help information, including meaning of columns</span>

<span class="co"># Includes things like cell types, connectivity types, lineage</span>
<span class="co"># information, which olfactory layer a neuron belongs to </span>
<span class="co"># (Schlegel and Bates 2021), putative transmitter, etc.</span>

<span class="fu"><a href="https://rdrr.io/pkg/nat/man/neuronlist-dataframe-methods.html">head</a></span><span class="op">(</span><span class="va">hemibrain_olfactory_layers</span><span class="op">)</span> <span class="co"># layer information for every neuron in the hemibrain</span>
<span class="co"># Dataset, as described in Schlegel and Bates et al. 2021.</span></code></pre></div>
<center>
<img src="https://raw.githubusercontent.com/natverse/hemibrainr/master/inst/images/ton_info.png" title="fig:" alt="ton_info">
</center>
<p>We also provides groups of IDs for various neuron classes:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rn.ids</span> <span class="co"># antennal lobe receptor neuron IDs</span>
<span class="va">orn.ids</span> <span class="co"># olfactory antennal lobe receptor neuron IDs</span>
<span class="va">hrn.ids</span> <span class="co"># thermo/hygrosensory antennal lobe receptor neuron IDs</span>
<span class="va">pn.ids</span> <span class="co"># antennal lobe projection neuron IDs</span>
<span class="va">upn.ids</span> <span class="co"># uniglomerular antennal lobe projection neuron IDs</span>
<span class="va">mpn.ids</span> <span class="co"># multiglomerular antennal lobe projection neuron IDs</span>
<span class="va">vppn.ids</span> <span class="co"># thermo/hygrosensory antennal lobe projection neuron IDs</span>
<span class="va">dan.ids</span> <span class="co"># mushroom body dopaminergic neuron neuron IDs</span>
<span class="va">mbon.ids</span> <span class="co"># mushroom body output neuron IDs</span>
<span class="va">alln.ids</span> <span class="co"># antennal lobe local neuron IDs</span>
<span class="va">ton.ids</span> <span class="co"># third-order olfactory neuron IDs</span>
<span class="va">lhn.ids</span> <span class="co"># lateral horn neurons IDs</span>
<span class="va">dn.ids</span> <span class="co"># decending neuron IDs (descend to ventral nervous system)</span>
<span class="va">kc.ids</span> <span class="co"># Kenyon cell IDs</span>
<span class="va">apl.ids</span> <span class="co"># APL IDs</span>
<span class="va">cent.ids</span> <span class="co"># LH centrifugal neuron IDs</span>
<span class="va">lc.ids</span> <span class="co"># lobular column visual projection neurons IDs</span></code></pre></div>
<center>
<img src="https://raw.githubusercontent.com/natverse/hemibrainr/master/inst/images/ton_ids.png" title="fig:" alt="ton_ids">
</center>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Alexander Bates, Gregory Jefferis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
